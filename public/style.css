:root{
  --bg:#0b0f12;
  --panel:#071018;
  --text:#a7f3d0;
  --accent:#00ff90;
  --danger:#ff5c5c;
  --mono: 'Courier New', Courier, monospace;
}
html,body,#app{height:100%;}
body{
  margin:0;
  background:linear-gradient(180deg,#02040a 0%, #071018 100%);
  font-family: var(--mono);
  color:var(--text);
}
#app{
  display:flex;
  gap:18px;
  align-items:center;
  justify-content:center;
  height:100vh;
  padding:24px;
  box-sizing:border-box;
}
.side-panel{
  width:220px;
  text-align:center;
  padding:12px; /* add padding around the meter area */
}
.side-panel h2{
  margin:0 0 12px 0;
  font-size:14px;
  letter-spacing:2px;
  color:var(--text);
}
.meter{
  height:56vh;
  background:rgba(255,255,255,0.03);
  border:1px solid rgba(255,255,255,0.03);
  border-radius:8px;
  position:relative;
  overflow:hidden;
  padding:10px; /* inner padding so fill doesn't touch edges */
}
.meter-fill{
  position:absolute;
  bottom:0;
  left:0;
  right:0;
  background:linear-gradient(180deg,var(--accent), #00a86b);
  transition:height 400ms ease;
}
.meter-fill.fbi{background:linear-gradient(180deg,#ffb3b3,var(--danger));}
.meter-label{margin-top:8px;font-size:13px;color:var(--text)}

/* left panel numeric score styles */
.score-big{
  font-size:48px;
  font-weight:700;
  color:var(--accent);
  margin:8px 0;
}
.score-mult{font-size:16px;color:#9fffd0;margin-bottom:6px}

.main-area{
  flex:1 1 800px;
  max-width:1100px;
}
.terminal{
  height:80vh;
  background:radial-gradient(ellipse at center, rgba(0,0,0,0.75) 0%, rgba(0,0,0,0.9) 60%);
  border-radius:8px;
  padding:18px;
  box-shadow:0 10px 40px rgba(0,0,0,0.75), inset 0 1px 0 rgba(255,255,255,0.02);
  display:flex;
  flex-direction:column;
  position:relative;
  overflow:visible; /* allow outline glow to show */
  /* always-on subtle CRT glow */
  animation: crt-glow 3000ms ease-in-out infinite;
}
.output{
  flex:1 1 auto;
  overflow:auto;
  padding:14px; /* give the output some breathing room */
    font-family: var(--mono);
    font-size:22px; /* match input font size */
    line-height:1.35;
    color:#7CFFB8; /* match input color */
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    text-shadow:none;
    font-weight:normal; /* ensure not bold */
}

/* responsive cap for small viewports so text doesn't overflow */
@media (max-width:900px) {
  .output { font-size:96px; }
  .cmd-input { font-size:20px; }
}
.input-line{display:flex;align-items:center;gap:8px;padding-top:8px}
.prompt{color:#9effc9}
.cmd-input{
  flex:1;
  background:transparent;
  border:0;
  outline:0;
  color:#7CFFB8;
  font-family:var(--mono);
  font-size:22px;
}
.minigame{
  min-height:80px;
  margin-bottom:8px;
  display:none;
  align-items:center;
  padding:8px 12px;
  background:rgba(0,0,0,0.5);
  border-radius:6px;
  font-family:var(--mono);
  font-size:20px;
  color:var(--text);
  overflow:visible;
  white-space:pre-wrap; /* allow long commands to wrap */
  word-break:break-word;
}
.player-rank-holder{display:flex;justify-content:center;align-items:center;padding:8px 0}
.player-rank{font-size:34px; font-weight:900; color:var(--accent); text-align:center; letter-spacing:2px; margin-top:8px}

/* CTA banner above the terminal (hidden by default) */
.banner-cta{
  display:none;
  width:100%;
  padding:10px 12px;
  background:linear-gradient(90deg,#2a0000,#440000);
  color:#ffb3b3;
  font-weight:900;
  font-size:18px;
  text-align:center;
  border-bottom:1px solid rgba(255,100,100,0.06);
  box-shadow:0 6px 18px rgba(0,0,0,0.4);
  letter-spacing:1px;
}
.minigame.visible{display:block}
.minigame .char{padding:0 2px}
.minigame .char.good{color:#00FF3A; text-shadow:0 0 10px rgba(0,255,58,0.6); font-weight:700}
.minigame .char.bad{color:#ff7b7b; text-shadow:0 0 6px rgba(255,120,120,0.18); animation:char-flash 220ms ease-in-out}
.minigame .char.space{display:inline-block; min-width:8px; text-align:center; color:rgba(255,255,255,0.08)}
.minigame .char.space::after{content:'Â·'; opacity:0.65; color:#9effc9}
@keyframes char-flash{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}
.terminal::after{
  /* subtle scanlines overlay */
  content: "";
  position:absolute;
  inset:0;
  background-image:linear-gradient(rgba(255,255,255,0.015) 1px, transparent 1px);
  background-size:100% 3px;
  pointer-events:none;
}

/* glowing outline bezel to simulate CRT monitor edge */
.terminal::before{
  content: "";
  position:absolute;
  inset:-10px;
  border-radius:12px;
  pointer-events:none;
  z-index:0;
  border:1px solid rgba(0,255,140,0.06);
  box-shadow: 0 0 18px rgba(0,255,140,0.18), 0 0 42px rgba(0,255,120,0.10), 0 0 90px rgba(0,255,100,0.04);
}

/* CRT glow and shake animation */
.terminal.glow {
  animation: crt-glow 800ms ease-in-out;
}

@keyframes crt-glow {
  0%{ box-shadow:0 10px 60px rgba(0,255,160,0.06), inset 0 0 0 rgba(0,0,0,0); transform:translateY(0); }
  50%{ box-shadow:0 16px 90px rgba(0,255,160,0.12), inset 0 0 24px rgba(0,255,140,0.03); transform:translateY(-1px) rotate(-0.2deg); }
  100%{ box-shadow:0 10px 60px rgba(0,255,160,0.06), inset 0 0 0 rgba(0,0,0,0); transform:translateY(0); }
}

.terminal.shake {
  animation: crt-shake 250ms ease-in-out;
}

@keyframes crt-shake {
  0%{ transform:translateX(0); }
  20%{ transform:translateX(-1px); }
  40%{ transform:translateX(2px); }
  60%{ transform:translateX(-1px); }
  80%{ transform:translateX(1px); }
  100%{ transform:translateX(0); }
}

/* slightly different color for prompt */
.prompt{ color:#8fffcf; text-shadow:0 0 6px rgba(0,255,170,0.07) }

/* text-level shake (only text moves, not the terminal container) */
@keyframes text-shake {
  0%{ transform:translateX(0); }
  20%{ transform:translateX(-1px); }
  40%{ transform:translateX(2px); }
  60%{ transform:translateX(-1px); }
  80%{ transform:translateX(1px); }
  100%{ transform:translateX(0); }
}

.output.text-shake, .input-line.text-shake, .cmd-input.text-shake {
  animation: text-shake 260ms ease-in-out;
}

.line{white-space:pre-wrap; font-size:inherit; font-weight:inherit}
.muted{color:#7f8b8a;font-size:14px}

/* small responsive */
@media (max-width:900px){
  .side-panel{display:none}
  .main-area{max-width:100%}
}

/* FBI delta indicator (right-side, casino style) */
.fbi-delta-holder{
  position:fixed;
  right:18px;
  top:50%;
  transform:translateY(-50%);
  pointer-events:none;
  z-index:99999;
  display:flex;
  flex-direction:column;
  gap:10px;
  align-items:flex-end;
}
.fbi-delta {
  background: linear-gradient(180deg,#ff6b6b,#b30000);
  color:#fff;
  font-weight:900;
  padding:12px 20px;
  border-radius:8px;
  box-shadow: 0 10px 36px rgba(179,0,0,0.28), 0 4px 10px rgba(0,0,0,0.6), inset 0 -6px 24px rgba(255,90,90,0.08);
  transform-origin:left center;
  font-family: var(--mono);
  font-size:24px;
  border: 1px solid rgba(255,120,120,0.12);
  animation: fbi-throb 700ms ease-out forwards;
}
.fbi-delta.small{ font-size:18px; padding:8px 12px; }
.fbi-delta.big{ font-size:36px; padding:14px 22px; }

@keyframes fbi-throb {
  0%{ transform: scale(0.6) translateX(24px); opacity:0; filter: blur(2px); }
  40%{ transform: scale(1.08) translateX(0); opacity:1; filter: blur(0); }
  80%{ transform: scale(0.98) translateX(-6px); opacity:0.9; }
  100%{ transform: scale(0.9) translateX(-12px); opacity:0; }
}

/* simple particle burst (small circles) */
.fbi-particles { position: absolute; right: 6px; top: 50%; transform: translateY(-50%); pointer-events:none; overflow:visible; }
.fbi-particle { width:10px; height:10px; border-radius:50%; background:radial-gradient(circle,#ffd6d6,#ff8080); box-shadow:0 8px 22px rgba(255,80,80,0.28); position:absolute; opacity:0.95; }
